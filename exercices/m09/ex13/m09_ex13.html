<!DOCTYPE html>
<html lang="fr">
    <head>
        <!-- <link rel="icon" href="[INSERT ICON FILE]" /> -->
        <link rel="stylesheet" href="../canvas-global.css" />
        <meta charset="utf-8" />
        <meta name="author" content="Michal Polka" />
        <!-- <meta name="description" content="[INSERT DESCRIPTION]" /> -->
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>m09 ex2</title>
        <script type="text/javascript" src="../canvas-global.js"></script>
        <script type="text/javascript">
            
            "use strict"

            let ctx;
            let width;
            let height;

            let houseX = 100
            let houseY = 200
            let houseR = 0
            let houseSide = 50
            let houseCol = 'red'
            let roofCol = 'green'
            let roofSeperation = 5

            function initDraw() {
                // drawHouse()
                // ctx.translate(100,200)
                setInterval(drawFrame, 20)
            }

            function drawHouse() {
                ctx.beginPath();
                ctx.moveTo((houseSide/2),(houseSide/2));
                ctx.lineTo((houseSide/2),-(houseSide/2));
                ctx.lineTo(-(houseSide/2),-(houseSide/2));
                ctx.lineTo(-(houseSide/2),(houseSide/2));
                ctx.closePath();
                ctx.strokeStyle = houseCol;
                ctx.stroke();

                ctx.beginPath();
                ctx.moveTo(+(houseSide/2),-(houseSide/2)-roofSeperation);
                ctx.lineTo(0,-(houseSide*3/2)-roofSeperation);
                ctx.lineTo(-(houseSide/2),-(houseSide/2)-roofSeperation);
                ctx.closePath();
                ctx.strokeStyle = roofCol;
                ctx.stroke();
            }

            const drawFrame = () => {
                clearCanvas()
                ctx.save();
                ctx.translate(houseX,houseY);
                ctx.rotate(houseR);
                drawHouse();
                ctx.restore();

                houseX += 1
                houseR += 0.04
            }

        </script>
    </head>
    <body onload="initCanvas('canvas');initDraw()">

        <canvas id="canvas" width="800" height="300"></canvas>

    </body>
</html>